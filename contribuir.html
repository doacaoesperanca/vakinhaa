<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doação para o Theo - Pagamento</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { background: #f4f7f6; font-family: 'Montserrat', sans-serif; }
        .payment-card { max-width: 480px; margin: 50px auto; background: #fff; padding: 30px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .btn-val { border: 2px solid #24CA68; color: #24CA68; font-weight: 700; margin-bottom: 12px; width: 100%; transition: 0.3s; background: #fff; padding: 12px; border-radius: 8px; }
        .btn-val:hover, .btn-val.active { background: #24CA68; color: #fff; }
        .btn-primary-custom { background: #24CA68; border: none; color: #fff; font-weight: 700; padding: 15px; width: 100%; border-radius: 8px; margin-top: 20px; font-size: 18px; }
        #pix-area { display: none; text-align: center; }
        .pix-code-box { background: #f8f9fa; border: 1px dashed #24CA68; padding: 15px; font-size: 12px; cursor: pointer; word-break: break-all; border-radius: 8px; margin-top: 15px; }
        .qr-img { width: 220px; height: 220px; margin: 20px 0; border: 1px solid #eee; padding: 10px; }
    </style>
</head>
<body>

<div class="container">
    <div class="payment-card" id="step-selection">
        <h3 class="fw-bold text-center mb-4">Escolha o valor</h3>
        <div class="row g-2">
            <div class="col-6"><button class="btn-val" onclick="selectVal(25, this)">R$ 25</button></div>
            <div class="col-6"><button class="btn-val" onclick="selectVal(50, this)">R$ 50</button></div>
            <div class="col-6"><button class="btn-val" onclick="selectVal(100, this)">R$ 100</button></div>
            <div class="col-6"><button class="btn-val" onclick="selectVal(200, this)">R$ 200</button></div>
        </div>
        <div class="mt-3">
            <label class="small fw-bold text-muted">Ou digite outro valor:</label>
            <input type="number" id="custom-val" class="form-control" placeholder="Ex: 30,00">
        </div>
        <button class="btn-primary-custom" onclick="showPix()">Gerar QR Code Pix</button>
        <div class="text-center mt-3">
            <a href="index.html" class="text-muted small text-decoration-none">← Voltar</a>
        </div>
    </div>

    <div class="payment-card" id="pix-area">
        <h4 class="fw-bold text-success">Escaneie o QR Code</h4>
        <p class="text-muted">Valor da doação: <strong id="display-val"></strong></p>
        
        <img src="images/qrcode-pix.png" alt="QR Code Pix" class="qr-img">
        
        <p class="small fw-bold mb-1">Copia e Cola:</p>
        <div class="pix-code-box" onclick="copyPix()">
            00020101021126580014BR.GOV.BCB.PIX0136SUA-CHAVE-AQUI-62070503***6304E229
        </div>
        <p class="text-success small mt-2">Clique no código para copiar</p>
        
        <hr>
        <button class="btn btn-sm btn-light" onclick="location.reload()">Alterar Valor</button>
    </div>
</div>

<script>
    let selected = 0;
    function selectVal(v, btn) {
        selected = v;
        document.querySelectorAll('.btn-val').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        document.getElementById('custom-val').value = '';
    }
    function showPix() {
        const custom = document.getElementById('custom-val').value;
        const final = custom || selected;
        if(!final || final <= 0) return alert("Por favor, selecione um valor.");
        
        document.getElementById('display-val').innerText = "R$ " + parseFloat(final).toFixed(2);
        document.getElementById('step-selection').style.display = 'none';
        document.getElementById('pix-area').style.display = 'block';
    }
    function copyPix() {
        const code = document.querySelector('.pix-code-box').innerText;
        navigator.clipboard.writeText(code);
        alert("Código Pix copiado!");
    }
</script>
</body>
</html>
